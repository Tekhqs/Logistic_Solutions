
@model DAL.tblWarehouseMaster

@{
    Layout = "~/Views/Shared/_LayoutLS.cshtml";
}



<div class="row">
    <input type="hidden" id="wareHouseId" value="@Model.WarehouseID" />
    <div class="FormBody col-md-12">
        <div class="col-md-12 bread">
            <ul class="breadcrumb">
                <li>
                    <i class="fas fa-angle-left"></i>
                </li>

                <li>Dashboard<span class="slash">/</span></li>
                <li>Warehouse<span class="slash">/</span></li>
                <li>Create Warehouse</li>
            </ul>
        </div>

        <div class="col-xs-12 PageTabs pl-5">
            <button class="Button">General</button>
            <button class="Button">Acounts</button>
            <button class="Button">Shippers</button>
            <button class="Button">Zendesk</button>
            <button class="Button">RF</button>
            <button class="Button">Edit History</button>
        </div>
        <form id="FormWareHouse">
            <div id="divAddWareHouse">
                <div class="col-xs-12 CreateUserSection pl-5">
                    <h4 class="text-left">Create WareHouse</h4>
                    <div class="row CreateUserform">

                        <div class="col-sm-4 col-xs-12 form-group">



                            <div class="form-group">
                                <label for="WareHouseDescription">Description</label>
                                @(Html.Kendo().TextBox().Name("WareHouseDescription").HtmlAttributes(new { @class = "form-control", @placeholder = "Enter  Description", @style = "width:100%" }))


                            </div>


                            <div class="form-group">
                                <label for="Address1">Address </label>
                                @(Html.Kendo().TextBox().Name("Address1").HtmlAttributes(new { @class = "form-control", @placeholder = "Enter  Address", @style = "width:100%" }))
                            </div>





                            <div class="form-group">
                                <label for="Address2">Address 2 </label>
                                @(Html.Kendo().TextBox().Name("Address2").HtmlAttributes(new { @class = "form-control", @placeholder = "Enter  Address", @style = "width:100%" }))
                            </div>

                            <div class="form-group">
                                <label for="MobileNumber">Mobile Number </label>
                                @(Html.Kendo().TextBox().Name("MobileNumber").HtmlAttributes(new { @class = "form-control", @placeholder = "Enter  MobileNumber", @style = "width:100%" }))

                            </div>
                            <div class="form-group">
                                <label for="isActive">isActive </label>
                                @(Html.Kendo().CheckBox().Name("isActive").Checked(true).HtmlAttributes(new { @style = "width:30px !important; height: 20px !important" }))

                            </div>

                        </div>
                        <div class="col-sm-4 col-xs-12 form-group">



                            <div class="form-group">
                                <label for="CityName">City Name </label>
                                @(Html.Kendo().TextBox().Name("CityName").HtmlAttributes(new { @class = "form-control", @placeholder = "Enter  City Name", @style = "width:100%" }))
                            </div>


                            <div class="form-group">
                                <label for="CountryID">Country </label>
                                @(Html.Kendo().DropDownList().Name("CountryID").DataTextField("CountryName").DataValueField("CountryID").BindTo(ViewBag.Country).HtmlAttributes(new { style = "width:100%" }).OptionLabel("Select"))
                            </div>





                            <div class="form-group">
                                <label for="State_Province">State_Province </label>
                                @(Html.Kendo().TextBox().Name("State_Province").HtmlAttributes(new { @class = "form-control", @placeholder = "Enter  State_Province", @style = "width:100%" }))

                            </div>
                            <div class="form-group">
                                <label for="FaxNumber">Fax Number </label>
                                @(Html.Kendo().TextBox().Name("FaxNumber").HtmlAttributes(new { @class = "form-control", @placeholder = "Enter  FaxNumber", @style = "width:100%" }))

                            </div>




                        </div>

                        <div class="col-sm-4 col-xs-12 form-group">

                            <div class="form-group">
                                <label for="Remarks">Remarks </label>
                                @(Html.Kendo().TextBox().Name("Remarks").HtmlAttributes(new { @class = "form-control", @placeholder = "Enter  Remarks", @style = "width:100%" }))

                            </div>

                            <div class="form-group">
                                <label for="Zip_PostalCode">Zip_PostalCode </label>
                                @(Html.Kendo().TextBox().Name("Zip_PostalCode").HtmlAttributes(new { @class = "form-control", @placeholder = "Enter Zip_PostalCode", @style = "width:100%" }))
                                <span class="k-invalid-msg" data-for="SecurityGroupID"></span>


                            </div>


                            <div class="form-group">
                                <label for="Email">Email </label>
                                @(Html.Kendo().TextBox().Name("Email").HtmlAttributes(new { @class = "form-control", @placeholder = "Enter  Email", @style = "width:100%" }))
                            </div>

                            <div class="form-group">
                                <label for="PhoneNumber">Phone Number </label>
                                @(Html.Kendo().TextBox().Name("PhoneNumber").HtmlAttributes(new { @class = "form-control", @placeholder = "Enter  PhoneNumber", @style = "width:100%" }))

                            </div>




                        </div>

                    </div>


                    <div class="row">
                        <div class="col-xs-12">
                            <button class="Button">Cancel</button>
                            <button id="SaveWareHouse" onclick="CreateWareHouse()" class="Button">Create</button>
                        </div>
                    </div>
                </div>
            </div>
            








        </form>

    </div>


</div>


<script>

    (function ($) {
        $.fn.serializeFormJSON = function () {

            var o = {};
            var a = this.serializeArray();
            $.each(a, function () {
                if (o[this.name]) {
                    if (!o[this.name].push) {
                        o[this.name] = [o[this.name]];
                    }
                    o[this.name].push(this.value || '');
                } else {
                    o[this.name] = this.value || '';
                }
            });
            return o;
        };
    })(jQuery);
    function toJSONString(divid) {

        var obj = {};
        //var elements = $('#step-1').querySelectorAll("input, select, textarea");
        var elements = $('#' + divid + '').children();
        $('#' + divid + '').find('input:text,input:radio:checked,input:checkbox:checked, input:password, input:file, select, textarea').each(function () {
            // $(this).val('');
            if ($(this)) {
                var name = $(this).prop('name');
                obj[name] = $(this).val();
            }
        });
        return obj;
    }


    function CreateWareHouse() {
        debugger;

        wareHouseId = $("#wareHouseId").val();

        wareHouse = toJSONString('divAddWareHouse');
        if (wareHouseId == "0") {
            $.ajax({
                type: 'POST',
                data: JSON.stringify(wareHouse),
                url: "/api/WareHouse",
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                success: function (data) {
       
                    window.location.href = '/WareHouse/WareHouses';
                  
                }
            });

        }

        else {

            $.ajax({
                type: 'PUT',
                data: JSON.stringify(wareHouse),
                url: "/api/WareHouse?wareHouseId=" + wareHouseId,
                contentType: "application/json; charset=utf-8",
                dataType: 'json',
                success: function (data) {
                    window.location.href = '/WareHouse/WareHouses';

                }
            });

        }
       

    }

</script>
